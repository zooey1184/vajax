{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///vxajax.js","webpack:///webpack/bootstrap 3146e596347ca4e98da2","webpack:///./src/lib/index.js"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","ajaxPlugin","install","Vue","formate","params","type","arguments","length","undefined","form","FormData","arr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","keys","Symbol","iterator","next","done","a","push","err","return","arrSort","sort","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","b","val","append","str","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","substr","ajax","options","request","window","XMLHttpRequest","ActiveXObject","toUpperCase","dataType","async","data","toast","vload","requestDataType","Promise","resolve","reject","href","url","encodeURI","open","send","$load","show","insertLoad","console","log","JSON","stringify","setRequestHeader","onreadystatechange","readyState","status","hide","deleteLoad","responseText","r","rjson","parse","success","vm","$toast","msg","insertToast","e","error","_Log","Crash","mark","$ajax","toString"],"mappings":"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","file":"vxajax.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vxajax\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vxajax\"] = factory();\n\telse\n\t\troot[\"vxajax\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vxajax\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vxajax\"] = factory();\n\telse\n\t\troot[\"vxajax\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar ajaxPlugin = {};\najaxPlugin.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n  function formate(params) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'POST';\n\n    var d = null;\n    if (type == 'POST') {\n      var form = new FormData();\n      var arr = [];\n      var str = '';\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.keys(params)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var a = _step.value;\n\n          arr.push(a);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var arrSort = arr.sort();\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = arrSort[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var b = _step2.value;\n\n          var val = params[b];\n          form.append(b, val);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      d = form;\n    } else {\n      var _arr = [];\n      var _str = '';\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = Object.keys(params)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _a = _step3.value;\n\n          _arr.push(_a);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      var _arrSort = _arr.sort();\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = _arrSort[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _b = _step4.value;\n\n          var _val = params[_b];\n          _str += _b + '=' + _val + '&';\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      var l = _str.length - 1;\n      var ss = _str.substr(0, l);\n      d = ss;\n    }\n    return d;\n  }\n\n  function ajax(options) {\n    var request = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n    // 基础设置\n    options.type = (options.type || 'POST').toUpperCase();\n    options.dataType = options.dataType || 'json';\n    options.async = options.async || true;\n    options.data = options.data || {};\n    options.toast = options.toast || \"true\";\n    options.vload = options.vload || \"false\";\n    options.requestDataType = options.requestDataType || 'string';\n\n    // 返回promise\n    return new Promise(function (resolve, reject) {\n      if (options.type === 'GET') {\n        // get方式\n        var data = formate(options.data, 'GET');\n        var href = data == '' ? options.url : options.url + '?' + encodeURI(data);\n        request.open('GET', href, options.async);\n        request.send();\n        // get发起统一的loading\n        if (options.vload == 'true') {\n          if (!!window.vload) {\n            window.vload.$load.show();\n          } else {\n            if (window.insertLoad) {\n              window.insertLoad();\n            } else {\n              console.log('发起统一的loading');\n            }\n          }\n        }\n      } else if (options.type === 'POST') {\n        // post方式\n        var _data = options.requestDataType === 'string' ? JSON.stringify(options.data) : options.data;\n        // let data = formate(options.data, 'POST')\n        request.open('POST', options.url, options.async);\n        request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        request.send(_data);\n        // post发起统一的loading\n        if (options.vload == 'true') {\n          if (!!window.vload) {\n            window.vload.$load.show();\n          } else {\n            if (window.insertLoad) {\n              window.insertLoad();\n            } else {\n              console.log('发起统一的loading');\n            }\n          }\n        }\n      }\n\n      request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n          if (request.status === 200) {\n            // 移除统一的loading\n            if (options.vload == 'true') {\n              if (!!window.vload) {\n                window.vload.$load.hide();\n              } else {\n                if (window.deleteLoad) {\n                  window.deleteLoad();\n                } else {\n                  console.log('移除统一的loading');\n                }\n              }\n            }\n\n            if (request.responseText) {\n              // 处理 返回的字符串 => Object json 对象\n              // console.log(request.responseText);\n              var r = request.responseText;\n              var rjson = r;\n              try {\n                rjson = JSON.parse(request.responseText);\n                // 统一的信息提示\n                if (!rjson.success) {\n                  if (options.toast == 'true') {\n                    if (!!window.vm) {\n                      window.vm.$toast(rjson.msg);\n                    } else {\n                      if (window.insertToast) {\n                        window.insertToast();\n                      } else {\n                        console.log('统一的toast');\n                      }\n                    }\n                  }\n                }\n                resolve(rjson);\n              } catch (e) {\n                rjson = request.responseText;\n                resolve(rjson);\n              } finally {\n                rjson = request.responseText;\n                resolve(rjson);\n              }\n            } else {\n              console.log('error1');\n              reject(request.status);\n            }\n          } else {\n            if (options.error) {\n              console.log('error2');\n              options.error(request);\n            } else {\n              console.log('error3');\n              if (!!window._Log) {\n                try {\n                  window._Log.Crash(request.responseText, {\n                    mark: options.url\n                  });\n                } catch (e) {\n                  console.log(e);\n                } finally {\n                  console.log('try _log');\n                }\n              }\n            }\n          }\n        }\n      };\n    });\n  }\n  Vue.prototype.$ajax = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (Object.prototype.toString.call(options) !== '[object Object]') {\n      return;\n    }\n    return ajax(options);\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ajaxPlugin);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// vxajax.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3146e596347ca4e98da2","const ajaxPlugin = {}\r\najaxPlugin.install = function(Vue, options = {}) {\r\n\r\n  function formate(params, type = 'POST') {\r\n    let d = null\r\n    if (type == 'POST') {\r\n      let form = new FormData()\r\n      let arr = []\r\n      let str = ''\r\n      for (let a of Object.keys(params)) {\r\n        arr.push(a)\r\n      }\r\n      let arrSort = arr.sort()\r\n      for (let b of arrSort) {\r\n        let val = params[b]\r\n        form.append(b, val)\r\n      }\r\n      d = form\r\n    } else {\r\n      let arr = []\r\n      let str = ''\r\n      for (let a of Object.keys(params)) {\r\n        arr.push(a)\r\n      }\r\n      let arrSort = arr.sort()\r\n      for (let b of arrSort) {\r\n        let val = params[b]\r\n        str += `${b}=${val}&`\r\n      }\r\n      let l = str.length - 1\r\n      let ss = str.substr(0, l)\r\n      d = ss\r\n    }\r\n    return d\r\n  }\r\n\r\n  function ajax(options) {\r\n    var request = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP')\r\n    // 基础设置\r\n    options.type = (options.type || 'POST').toUpperCase()\r\n    options.dataType = options.dataType || 'json'\r\n    options.async = options.async || true\r\n    options.data = options.data || {}\r\n    options.toast = options.toast || \"true\"\r\n    options.vload = options.vload || \"false\"\r\n    options.requestDataType = options.requestDataType || 'string'\r\n\r\n    // 返回promise\r\n    return new Promise(function(resolve, reject) {\r\n      if (options.type === 'GET') {\r\n        // get方式\r\n        let data = formate(options.data, 'GET')\r\n        let href = (data == '') ? options.url : options.url + '?' + encodeURI(data)\r\n        request.open('GET', href, options.async)\r\n        request.send()\r\n        // get发起统一的loading\r\n        if(options.vload=='true') {\r\n          if (!!window.vload) {\r\n            window.vload.$load.show()\r\n          }else {\r\n            if(window.insertLoad) {\r\n              window.insertLoad()\r\n            }else {\r\n              console.log('发起统一的loading');\r\n            }\r\n          }\r\n        }\r\n      } else if (options.type === 'POST') {\r\n        // post方式\r\n        let data = options.requestDataType === 'string' ? JSON.stringify(options.data) : options.data\r\n        // let data = formate(options.data, 'POST')\r\n        request.open('POST', options.url, options.async)\r\n        request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')\r\n        request.send(data)\r\n        // post发起统一的loading\r\n        if(options.vload=='true') {\r\n          if (!!window.vload) {\r\n            window.vload.$load.show()\r\n          }else {\r\n            if(window.insertLoad) {\r\n              window.insertLoad()\r\n            }else {\r\n              console.log('发起统一的loading');\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      request.onreadystatechange = function() {\r\n        if (request.readyState === 4) {\r\n          if (request.status === 200) {\r\n            // 移除统一的loading\r\n            if(options.vload=='true') {\r\n              if (!!window.vload) {\r\n                window.vload.$load.hide()\r\n              }else {\r\n                if(window.deleteLoad) {\r\n                  window.deleteLoad()\r\n                }else {\r\n                  console.log('移除统一的loading');\r\n                }\r\n              }\r\n            }\r\n\r\n            if (request.responseText) {\r\n              // 处理 返回的字符串 => Object json 对象\r\n              // console.log(request.responseText);\r\n              let r = request.responseText\r\n              let rjson = r\r\n              try {\r\n                rjson = JSON.parse(request.responseText)\r\n                // 统一的信息提示\r\n                if (!rjson.success) {\r\n                  if(options.toast=='true') {\r\n                    if (!!window.vm) {\r\n                      window.vm.$toast(rjson.msg)\r\n                    }else {\r\n                      if(window.insertToast) {\r\n                        window.insertToast()\r\n                      }else {\r\n                        console.log('统一的toast');\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                resolve(rjson);\r\n              } catch (e) {\r\n                rjson = request.responseText\r\n                resolve(rjson);\r\n              } finally {\r\n                rjson = request.responseText\r\n                resolve(rjson);\r\n              }\r\n            } else {\r\n              console.log('error1');\r\n              reject(request.status);\r\n            }\r\n          } else {\r\n            if (options.error) {\r\n              console.log('error2');\r\n              options.error(request)\r\n            } else {\r\n              console.log('error3');\r\n              if(!!window._Log) {\r\n                try {\r\n                  window._Log.Crash(request.responseText, {\r\n                    mark: options.url\r\n                  })\r\n                } catch (e) {\r\n                  console.log(e);\r\n                } finally {\r\n                  console.log('try _log');\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n    });\r\n  }\r\n  Vue.prototype.$ajax = (options = {}) => {\r\n    if (Object.prototype.toString.call(options) !== '[object Object]') {\r\n      return\r\n    }\r\n    return ajax(options)\r\n  }\r\n}\r\nexport default ajaxPlugin\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js"],"sourceRoot":""}